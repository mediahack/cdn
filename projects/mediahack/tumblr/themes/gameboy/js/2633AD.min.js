/**
* @name     Demo Codes - demo.js - 2633AD.js
* @project  NESCode
* @author <codes>      mediaHACK - http://mediahack.com
* @date         2011.01.24
* @version      13.12.15
* @update		2013.12.15
*
* @licence  New BSD License.
* @licence  Creative-Commons BY
* 
* Some sample cheats. The file live on the web is called 2633 A.D. because thats
* the date the original Japanese version of Contra for NES takes place.
*
**/
function MyCheats(){var b="http://code.mediahack.com/apps/NESCode/",c=function(a,b,c){var d=this,c=c||{},e=c.id||"cheatAudio",f=document.getElementById(e)||document.createElement("audio"),g=document.getElementById(e+"_src1")||document.createElement("source");g.id=e+"_src1",g.src=a,g.type='audio/mpeg; codecs="mp3"',f.appendChild(g);var h=document.getElementById(e+"_emb")||document.createElement("embed");h.width=100,h.height=50,h.src=a,f.appendChild(h),f.id=e,f.src=a,f.autostart=c.autostart||!1,f.hidden=c.hidden||!0,f.loop=c.loop||!1,f.onload=void 0!=b?b():function(){},document.getElementsByTagName("body")[0].appendChild(f),d[e]=document.getElementById(e)};this.brand=function(){var a=document.createElement("div");a.innerHTML="NESCode. Get yours @ mh",document.getElementsByTagName("body")[0].appendChild(a)},this.doRandomShit=function(){console.log("lololol")},this.turtlePower=function(){var a=b+"audio/Turtle_Power_rough.mp3";c(a),_gaq.push(["_trackEvent","NES Code","Turtle Power",window.location.href])},this.moldova=function(){var a=this,e=function(){document.getElementsByTagName("h1")[0].childNodes[0]},f=b+"audio/Epic_Sax_Guy_NES_Remix.mp3";c(f,e,{id:"epicSaxGuy",autostart:!0,loop:!0}),setTimeout(function(){a.brand()},1500),_gaq.push(["_trackEvent","NES Code","Moldova Epic Sax Guy",window.location.href])},this.rockYourFace=function(){this.start=function(){if(a&&console.log("Start this cheat"),a&&console.log("Is cheat already running? "+hax.contra.running),hax.contra.running)return console.log("BLAM sorry already running!"),void 0;hax.contra.running=!0,document.getElementsByTagName("h1")[0].childNodes[0].style.backgroundImage="none",h=document.createElement("div"),h.id="contraAction";var b=document.getElementsByTagName("h1")[0];b.parentNode.appendChild(h),i=document.getElementsByTagName("article")[0],this.advanceTimeline()},this.createFloatingPlatforms=function(){var a=[{id:"A",position:{x:40,y:110}},{id:"B",position:{x:80,y:80}}];this.floatingPlatform(a[c])},this.floatingPlatform=function(b){a&&console.log("Building platform "+b.id);var d=this,e=this.createSprite({position:b.position,id:"platform"+c,width:36,height:36,framePosition:{x:0,y:100}});this["platform"+c]=document.getElementById(e.id),c++,h.appendChild(e),e.interval=setInterval(function(){e.opacityCounter>1&&(clearInterval(e.interval),e.animationComplete=!0,d.advanceTimeline()),e.opacityCounter+=e.increment,e.style.opacity=e.opacityCounter},e.speed)},this.buffstuff=function(a){a.style.backgroundPosition=this.calcBackgroundPositions(a)},this.flipIn=function(){a&&console.log("flipping in from left");var b=this;m=this.createSprite({id:"player1",position:{x:17,y:65},speed:20,increment:1,frames:4,frameSpeed:50,framePosition:{x:-2,y:76},width:24,height:24,style:{opacity:1}});var c=m;l=document.getElementById(c.id),j=document.getElementById("platform0");var d={x:j.position.x,y:j.position.y};c.animationInterval=setInterval(function(){b.buffstuff(c)},c.frameSpeed),c.interval=setInterval(function(){var a=c.position.x,e=d.x+7;e>=a&&(c.position.x+=c.increment,c.style.left=c.position.x+"px");var f=c.position.y,g=d.y-c.height;g>=f&&(c.position.y+=c.increment,c.style.top=c.position.y+"px"),a>=e&&f>=g&&(c.style.height="36px",c.style.backgroundPosition="0 -37px",clearInterval(c.animationInterval),clearInterval(c.interval),b.advanceTimeline())},c.speed)},this.flipToB=function(){a&&console.log("flipping in from platform A to B");var b=this;m=this.createSprite({id:"player1",position:{x:l.position.x,y:l.position.y},speed:20,increment:1,frames:4,frameSpeed:50,framePosition:{x:-2,y:76},width:24,height:24,style:{opacity:1,height:"24px"}});var c=m;flip1=document.getElementById(c.id),k=document.getElementById("platform1");var d={x:k.offsetLeft,y:k.offsetTop};c.position.x=l.position.x,c.position.y=l.position.y,c.animationInterval=setInterval(function(){c.style.backgroundPosition=b.calcBackgroundPositions(c)},c.frameSpeed),c.interval=setInterval(function(){var a=d.x+7;c.position.x<=a&&(c.position.x+=c.increment,c.style.left=c.position.x+"px");var e=d.y-c.height;c.position.y>=e&&(c.position.y-=c.increment,c.style.top=c.position.y+"px"),c.position.x>=a&&c.position.y<=e&&(c.style.height="36px",c.style.backgroundPosition="0 -37px",clearInterval(c.animationInterval),clearInterval(c.interval),b.advanceTimeline())},c.speed)},this.turnLeft=function(){a&&console.log("turning left"),m=this.createSprite({id:"player1",position:{x:flip1.position.x,y:flip1.position.y},speed:500,increment:1,frames:4,frameSpeed:50,framePosition:{x:0,y:-37},width:24,height:24,style:{opacity:1}})},this.turnRight=function(){},this.flipToGb=function(){a&&console.log("flipping in from platform B to top of Gameboy");var b=this;m=this.createSprite({id:"player1",position:{x:flip1.position.x,y:flip1.position.y},speed:10,increment:1,frames:4,frameSpeed:50,framePosition:{x:-2,y:76},width:24,height:24,style:{opacity:1,height:"24px"}});var c=m;flip2=document.getElementById(c.id),k=document.getElementById("platform1");var d={x:flip1.position.x,y:9};c.position.x=flip1.position.x,c.position.y=flip1.position.y,c.animationInterval=setInterval(function(){c.style.backgroundPosition=b.calcBackgroundPositions(c)},c.frameSpeed),c.interval=setInterval(function(){d.x;var e=d.y;c.position.y>=e&&(c.position.y-=c.increment,c.style.top=c.position.y+"px"),c.position.y<=e&&(c.style.height="36px",c.style.backgroundPosition="0 -37px",clearInterval(c.animationInterval),clearInterval(c.interval),b.advanceTimeline())},c.speed)},this.aimAndShoot=function(){a&&console.log("shooting from top of Gameboy");var b=this,c=m.position.x,d=m.position.y;m=this.createSprite({id:"player1",position:{x:c,y:d},speed:1700,increment:1,frames:1,frameSpeed:50,framePosition:{x:-74,y:36},width:24,height:36,style:{opacity:1}});var e=m;e.interval=setTimeout(function(){e.style.backgroundPosition="0 -37px",b.advanceTimeline()},e.speed),this.firegun(m,3)},this.firegun=function(b,c){a&&console.log("Firing Gun");var d=this,f=[],g=document.getElementsByTagName("article")[0];({x:g.offsetLeft,y:0});for(var i=m.position.x+18,j=m.position.y+20,k=0;c>k;k++)f[k]=d.createSprite({id:"bullet"+k,position:{x:i,y:j},speed:10,increment:1,framePosition:{x:-10,y:202},width:6,height:6,style:{opacity:1}});d.advanceTimeline()},this.win=function(){a&&console.log("win!"),this.trackWin.setAttribute("autostart","true"),this.trackWin.setAttribute("src",this.trackWin.src+"?t="+(new Date).getTime()),this.advanceTimeline()},this.tracker=function(){_gaq.push(["_trackEvent","NES Code","Konami",window.location.href])},this.advanceTimeline=function(){if(d<g.length){var a=g[d],b=a.delay||0;if(null!=a.action&&void 0!=a.action){var c=g[d++].action,e=this;"function"==typeof e[c]&&(f=setTimeout(function(){e[c]()},b))}}},this.calcBackgroundPositions=function(a){var b="",c=void 0!=a.frameIndex?a.frameIndex:0;if(c>=a.frames-1&&(c=0),void 0!=a.framePosition){var d=a.framePosition.x+-1*a.width*c;b=d+"px "+-1*a.framePosition.y+"px"}else b="0 0";return a.frameIndex++>=a.frames-1&&(a.frameIndex=0),b},this.createSprite=function(b){a&&console.info("creating sprite"),o++;var c=b.id||"sprite"+o,d=null;return null!=document.getElementById(c)?d=document.getElementById(c):(d=document.createElement("div"),h.appendChild(d)),d.id=c,d.fade=b.fade||0,d.interval=b.interval||null,d.speed=b.speed||100,d.increment=b.increment||.1,d.position=b.position||{x:0,y:0},d.width=b.width||36,d.height=b.height||36,d.frames=b.frames||1,d.frameIndex=b.frameIndex||0,d.frameSpeed=b.frameSpeed||250,d.framePosition=b.framePosition||{x:0,y:0},d.mapdata=b.mapData||{x:0,y:0},d.animationInterval=b.animationInterval||null,d.opacityCounter=b.opacityCounter||0,void 0==b.style&&(b.style={position:"absolute"}),d.style.position=b.style.position||"absolute",d.style.top=b.style.top||d.position.y+"px",d.style.left=b.style.left||d.position.x+"px",d.style.width=b.style.width||d.width+"px",d.style.height=b.style.height||d.height+"px",d.style.opacity=b.style.opacity||0,d.style.backgroundImage=b.style.backgroundImage||"url("+p+")",d.style.textIndent=b.style.textIndent||"-9000px",d.style.overflow=b.style.overflow||"hidden",d.style.backgroundRepeat="none",d.style.backgroundPosition=this.calcBackgroundPositions(b),d.animationComplete=b.animationComplete||!1,d},this.audioEmbed=function(a,b,c){var d=this,c=c||{},e=c.id||"cheatAudio",f=document.getElementById(e)||document.createElement("embed");f.id=e,f.setAttribute("type","audio/mpeg"),f.setAttribute("autostart",c.autostart||"false"),f.setAttribute("hidden",c.hidden||"true"),f.setAttribute("loop",c.loop||"false"),f.onload=void 0!=b?b():function(){},f.src=a,document.getElementsByTagName("body")[0].appendChild(f),d[e]=document.getElementById(e)},this.loader=function(){var b=this;if(s<r.length){a&&console.log("loading resources #"+s);var c=r[s].id,d=r[s].src,e=r[s].type;s++,"img"==e?(b[c]=new Image,b[c].src=d,b[c].onload=function(){b.loader()}):"audio"==e?b.audioEmbed(d,function(){b.loader()},{id:c}):(a&&console.log("we don't handle this type of resource. moving on."),b.loader())}else a&&console.log("all done, should stop loading animation now and start the awesome"),b.start();return 0};var h,i,j,k,l,m,a=!0,c=0,d=0,f=null,g=[{action:"createFloatingPlatforms",delay:0},{action:"createFloatingPlatforms",delay:250},{action:"flipIn",delay:400},{action:"flipToB",delay:250},{action:"win",delay:250},{action:"tracker",delay:0},{action:"turnRight",delay:100},{action:"flipToGb",delay:100}];document.createElement("div");var o=0,p=b+"img/contra_gb.gif",q={src:"http://nescode.googlecode.com/files/Contra_G_Probotector_StageComplete.mp3"},r=[{id:"spritemap",type:"img",src:p},{id:"trackWin",type:"audio",src:q.src}],s=0;this.loader()}}var hax={cowabunga:{code:[38,39,39,40,40,40,37,37,37,37,66,65,13],callback:function(){(new MyCheats).turtlePower()}},contra:{callback:function(){(new MyCheats).rockYourFace()},running:!1},moldova:{code:[37,39,37,39,38,38,40,40,65,65,66,66,13],callback:function(){(new MyCheats).moldova()},running:!1}};nes=new NESCode({customCheats:hax});
