function MyCheats(){var c=true;var b="http://code.mediahack.com/apps/NESCode/";var a=function(e,k,d){var h=this;var d=d||{};var j=d.id||"cheatAudio";var g=document.getElementById(j)||document.createElement("embed");g.id=j;g.src=e;g.setAttribute("autostart",(d.autostart||false));g.setAttribute("hidden",(d.hidden||true));g.setAttribute("loop",(d.loop||false));g.onload=(k!=undefined)?k():function(){};var i=document.createElement("div");i.style.width="0";i.style.height="0";i.style.overflow="hidden";var f=document.createElement("div");i.appendChild(g);f.appendChild(i);document.getElementsByTagName("body")[0].appendChild(f);h[j]=document.getElementById(j)};this.brand=function(){var d=document.createElement("div");d.innerHTML="NESCode. Get yours @ mh";document.getElementsByTagName("body")[0].appendChild(d)};this.doRandomShit=function(){console.log("lololol")};this.turtlePower=function(){var d=b+"audio/Turtle_Power_rough.mp3";a(d)};this.moldova=function(){var e=this;var g=[{id:"saxguy",type:"img",src:"img/esg.png"},{id:"trackMoldova",type:"audio",src:b+"audio/Epic_Sax_Guy_NES_Remix.mp3"}];var d=function(){var h=document.getElementsByTagName("h1")[0].childNodes[0]};var f=b+"audio/Epic_Sax_Guy_NES_Remix.mp3";a(f,d,{id:"epicSaxGuy",autostart:true,loop:true});setTimeout(function(){e.brand()},1500)};this.rockYourFace=function(){this.start=function(){if(p){console.log("Start this cheat")}if(p){console.log("Is cheat already running? "+hax.contra.running)}if(hax.contra.running){console.log("BLAM sorry already running!");return}hax.contra.running=true;g=document.createElement("div");g.id="contraAction";var v=document.getElementsByTagName("h1")[0];v.parentNode.appendChild(g);j=document.getElementsByTagName("article")[0];this.advanceTimeline()};this.createFloatingPlatforms=function(){var v=[{id:"A",position:{x:40,y:110}},{id:"B",position:{x:80,y:80}}];this.floatingPlatform(v[r])};this.floatingPlatform=function(x){if(p){console.log("Building platform "+x.id)}var v=this;var w=this.createSprite({position:x.position,id:("platform"+r),width:36,height:36,framePosition:{x:0,y:100}});this["platform"+r]=document.getElementById(w.id);r++;g.appendChild(w);w.interval=setInterval(function(){if(w.opacityCounter>1){clearInterval(w.interval);w.animationComplete=true;v.advanceTimeline()}w.opacityCounter+=w.increment;w.style.opacity=w.opacityCounter},w.speed)};this.buffstuff=function(v){v.style.backgroundPosition=this.calcBackgroundPositions(v)};this.flipIn=function(){if(p){console.log("flipping in from left")}var w=this;o=this.createSprite({id:"player1",position:{x:17,y:65},speed:20,increment:1,frames:4,frameSpeed:50,framePosition:{x:-2,y:76},width:24,height:24,style:{opacity:1}});var x=o;e=document.getElementById(x.id);k=document.getElementById("platform0");var v={x:k.position.x,y:k.position.y};x.animationInterval=setInterval(function(){w.buffstuff(x)},x.frameSpeed);x.interval=setInterval(function(){var z=x.position.x;var B=v.x+7;if(z<=B){x.position.x+=x.increment;x.style.left=x.position.x+"px"}var C=x.position.y;var A=v.y-x.height;if(C<=A){x.position.y+=x.increment;x.style.top=x.position.y+"px"}if(z>=B&&C>=A){x.style.height="36px";x.style.backgroundPosition="0 -37px";clearInterval(x.animationInterval);clearInterval(x.interval);w.advanceTimeline()}},x.speed)};this.flipToB=function(){if(p){console.log("flipping in from platform A to B")}var w=this;o=this.createSprite({id:"player1",position:{x:e.position.x,y:e.position.y},speed:20,increment:1,frames:4,frameSpeed:50,framePosition:{x:-2,y:76},width:24,height:24,style:{opacity:1,height:"24px"}});var x=o;flip1=document.getElementById(x.id);i=document.getElementById("platform1");var v={x:i.offsetLeft,y:i.offsetTop};x.position.x=e.position.x;x.position.y=e.position.y;x.animationInterval=setInterval(function(){x.style.backgroundPosition=w.calcBackgroundPositions(x)},x.frameSpeed);x.interval=setInterval(function(){var z=v.x+7;if(x.position.x<=z){x.position.x+=x.increment;x.style.left=x.position.x+"px"}var y=v.y-x.height;if(x.position.y>=y){x.position.y-=x.increment;x.style.top=x.position.y+"px"}if(x.position.x>=z&&x.position.y<=y){x.style.height="36px";x.style.backgroundPosition="0 -37px";clearInterval(x.animationInterval);clearInterval(x.interval);w.advanceTimeline()}},x.speed)};this.turnLeft=function(){if(p){console.log("turning left")}var v=this;o=this.createSprite({id:"player1",position:{x:flip1.position.x,y:flip1.position.y},speed:500,increment:1,frames:4,frameSpeed:50,framePosition:{x:0,y:-37},width:24,height:24,style:{opacity:1}});var w=o;var x=function(y){w.style.height="36px";w.style.backgroundPosition="-58px -36px"}};this.turnRight=function(){};this.flipToGb=function(){if(p){console.log("flipping in from platform B to top of Gameboy")}var w=this;o=this.createSprite({id:"player1",position:{x:flip1.position.x,y:flip1.position.y},speed:10,increment:1,frames:4,frameSpeed:50,framePosition:{x:-2,y:76},width:24,height:24,style:{opacity:1,height:"24px"}});var x=o;flip2=document.getElementById(x.id);i=document.getElementById("platform1");var v={x:flip1.position.x,y:9};x.position.x=flip1.position.x;x.position.y=flip1.position.y;x.animationInterval=setInterval(function(){x.style.backgroundPosition=w.calcBackgroundPositions(x)},x.frameSpeed);x.interval=setInterval(function(){var z=v.x;var y=v.y;if(x.position.y>=y){x.position.y-=x.increment;x.style.top=x.position.y+"px"}if(x.position.y<=y){x.style.height="36px";x.style.backgroundPosition="0 -37px";clearInterval(x.animationInterval);clearInterval(x.interval);w.advanceTimeline()}},x.speed)};this.aimAndShoot=function(){if(p){console.log("shooting from top of Gameboy")}var w=this;var v=o.position.x;var A=o.position.y;o=this.createSprite({id:"player1",position:{x:v,y:A},speed:1700,increment:1,frames:1,frameSpeed:50,framePosition:{x:-74,y:36},width:24,height:36,style:{opacity:1}});var z=o;z.interval=setTimeout(function(){z.style.backgroundPosition="0 -37px";w.advanceTimeline()},z.speed);this.firegun(o,3)};this.firegun=function(G,B){if(p){console.log("Firing Gun")}var w=this;var C=0;var v=[];var A=document.getElementsByTagName("article")[0];var E={x:A.offsetLeft,y:0};var F=o.position.x+18;var D=o.position.y+20;for(var z=0;z<B;z++){v[z]=w.createSprite({id:"bullet"+z,position:{x:F,y:D},speed:10,increment:1,framePosition:{x:-10,y:202},width:6,height:6,style:{opacity:1}})}w.advanceTimeline()};this.win=function(){if(p){console.log("win!")}this.trackWin.setAttribute("autostart",true);this.trackWin.setAttribute("src",(this.trackWin.src+"?t="+new Date().getTime()))};this.advanceTimeline=function(){if(f<h.length){var x=h[f];var y=x.delay||0;if(x.action!=null&&x.action!=undefined){var v=h[f++].action;var w=this;if(typeof w[v]=="function"){l=setTimeout(function(){w[v]()},y)}}}};this.calcBackgroundPositions=function(w){var z="";var y=(w.frameIndex!=undefined)?w.frameIndex:0;if(y>=w.frames-1){y=0}if(w.framePosition!=undefined){var v=w.framePosition.x+(w.width*y)*-1;z=v+"px "+(w.framePosition.y*-1)+"px"}else{z="0 0"}if(w.frameIndex++>=w.frames-1){w.frameIndex=0}return z};this.createSprite=function(w){if(p){console.info("creating sprite")}q++;var x=w.id||"sprite"+q;var v=null;if(document.getElementById(x)!=null){v=document.getElementById(x)}else{v=document.createElement("div");g.appendChild(v)}v.id=x;v.fade=w.fade||0;v.interval=w.interval||null;v.speed=w.speed||100;v.increment=w.increment||0.1;v.position=w.position||{x:0,y:0};v.width=w.width||36;v.height=w.height||36;v.frames=w.frames||1;v.frameIndex=w.frameIndex||0;v.frameSpeed=w.frameSpeed||250;v.framePosition=w.framePosition||{x:0,y:0};v.mapdata=w.mapData||{x:0,y:0};v.animationInterval=w.animationInterval||null;v.opacityCounter=w.opacityCounter||0;if(w.style==undefined){w.style={position:"absolute",}}v.style.position=w.style.position||"absolute";v.style.top=w.style.top||v.position.y+"px";v.style.left=w.style.left||v.position.x+"px";v.style.width=w.style.width||v.width+"px";v.style.height=w.style.height||v.height+"px";v.style.opacity=w.style.opacity||0;v.style.backgroundImage=w.style.backgroundImage||"url("+u+")";v.style.textIndent=w.style.textIndent||"-9000px";v.style.overflow=w.style.overflow||"hidden";v.style.backgroundRepeat="none";v.style.backgroundPosition=this.calcBackgroundPositions(w);v.animationComplete=w.animationComplete||false;return v};this.audioEmbed=function(x,C,w){var v=this;var w=w||{};var B=w.id||"cheatAudio";var z=document.getElementById(B)||document.createElement("embed");z.id=B;z.src=x;z.setAttribute("autostart",(w.autostart||false));z.setAttribute("hidden",(w.hidden||true));z.setAttribute("loop",(w.loop||false));z.onload=(C!=undefined)?C():function(){};var A=document.createElement("div");A.style.width="0";A.style.height="0";A.style.overflow="hidden";var y=document.createElement("div");A.appendChild(z);y.appendChild(A);document.getElementsByTagName("body")[0].appendChild(y);v[B]=document.getElementById(B)};this.loader=function(){var v=this;if(t<s.length){if(p){console.log("loading resources #"+t)}var y=s[t].id;var x=s[t].src;var w=s[t].type;t++;if(w=="img"){v[y]=new Image();v[y].src=x;v[y].onload=function(){v.loader()}}else{if(w=="audio"){v.audioEmbed(x,function(){v.loader()},{id:y})}else{if(p){console.log("we don't handle this type of resource. moving on.")}v.loader()}}}else{if(p){console.log("all done, should stop loading animation now and start the awesome")}v.start()}return 0};var p=true;var r=0;var f=0;var d;var l=null;var h=[{action:"createFloatingPlatforms",delay:0},{action:"createFloatingPlatforms",delay:250},{action:"flipIn",delay:400},{action:"flipToB",delay:250},{action:"win",delay:250},{action:"turnRight",delay:100},{action:"flipToGb",delay:100}];var g;var j;var k;var i;var e;var o;var m=document.createElement("div");var q=0;var u=b+"img/contra_gb.gif";var n={src:b+"audio/Contra_G_Probotector_StageComplete.mp3"};var s=[{id:"spritemap",type:"img",src:u},{id:"trackWin",type:"audio",src:n.src}];var t=0;this.loader()}}var hax={cowabunga:{code:[38,39,39,40,40,40,37,37,37,37,66,65,13],callback:function(){new MyCheats().turtlePower()}},contra:{callback:function(){new MyCheats().rockYourFace()},running:false},moldova:{code:[37,39,37,39,38,38,40,40,65,65,66,66,13],callback:function(){new MyCheats().moldova()},running:false}};nes=new NESCode({customCheats:hax});

